!function(t,i,n){"use strict";function e(i,n){this.element=t(i),this.options=t.extend({},t.fn[s].defaults,this.element.data(),n,this.element.data(s)),this.init()}var o,s="collapse",a=t(i),l="onorientationchange"in i?"orientationchange.resize"+s:"resize.resize"+s;e.prototype={init:function(){this.activeEl=this.element.find(this.options.activeEl),this.handles=this.element.find(this.options.handle),this.initEl=this.element.find(this.options.initEl),this.contents=this.element.find(this.options.content),this.activeContent=[],this.closeEl=this.options.closeEl,this.duration=this.options.duration,this.isAnimating=!1,this.show="slideDown",this.hide="slideUp",this.initCls=this.options.initCls,"fade"===this.options.effect&&(this.show="fadeIn",this.hide="fadeOut"),"slide"===this.options.effect&&(this.show="slideDown",this.hide="slideUp"),this.initialized(),this.resizeWindow()},initialized:function(){this.options.breakpoint&&(a.width()<=this.options.breakpoint?this.options.type="":this.options.type="tab"),this.options.initUnder?a.width()<=this.options.initUnder&&(this.listener(),this.initEl.length&&this.collapseContent(this.initEl)):(this.listener(),this.initEl.length&&this.collapseContent(this.initEl))},listener:function(){var i=this;this.element.addClass(this.initCls),this.handles.off("click.changeTab"+s).on("click.changeTab"+s,function(n){var e=t(this).closest(i.element).find('[data-handle="'+t(this).data("handle")+'"]');t(n.target).is("a")&&n.preventDefault(),i.isAnimating||i.collapseContent(e)}),i.contents.off("click.closeTab"+s,this.closeEl).on("click.closeTab"+s,this.closeEl,function(t){if(t.preventDefault(),!i.isAnimating){var n=i.activeContent.find(i.options.content).not(":hidden");n.length&&(console.log("--- Close child Tabs - Button Close click ---"),n.closest("[data-"+s+"]")[s]("close")),console.log("--- Close current tab ---"),i.close()}return!1})},resizeWindow:function(){var i=this;a.off(l).on(l,function(){o&&clearTimeout(o),o=setTimeout(function(){t("[data-"+s+"]").each(function(){var n=t(this).data()[s].options[s].breakpoint,e=t(this).data()[s].options[s].initUnder;n&&(a.width()<=n?t(this).data()[s].options[s].type="":t(this).data()[s].options[s].type="tab"),e&&(a.width()<=e?t(this).hasClass(i.initCls)||t(this)[s]("init"):t(this).hasClass(i.initCls)&&t(this)[s]("destroy"))})},300)})},collapseContent:function(t){var i=t.closest(this.element).find('[data-content="'+t.data("handle")+'"]');t.find('input[type="radio"]').prop("checked",!0),i.length?this.hasContent(t,i):this.noContent(t)},noContent:function(i){var n=this;console.log("--- No Content ---"),this.activeEl.removeClass("active"),i.closest(this.activeEl).addClass("active"),this.activeContent.length&&(this.isAnimating=!0,t.isFunction(n.options.beforeClose)&&n.options.beforeClose(n.activeContent),this.activeContent.removeClass("active")[this.hide](this.duration,function(){t.isFunction(n.options.afterClose)&&n.options.afterClose(n.activeContent),n.activeContent=[],n.isAnimating=!1}))},hasContent:function(t,i){this.activeContent.length?this.activeContent[0]!==i[0]?this.changeTab(t,i):"tab"!==this.options[s].type&&this.closeCurrentTab(t):this.firstOpen(t,i)},changeTab:function(i,n){var e=this,o=this.activeContent.find(this.options.content).not(":hidden");o.length&&(console.log("--- Close child Tabs - Tab click ---"),o.closest("[data-"+s+"]")[s]("close")),console.log("--- Change Tab ---"),t.isFunction(e.options.beforeClose)&&e.options.beforeClose(e.activeContent),this.isAnimating=!0,this.activeEl.removeClass("active"),this.activeContent.removeClass("active")[this.hide](this.duration,function(){t.isFunction(e.options.afterClose)&&e.options.afterClose(e.activeContent),e.activeContent=n,t.isFunction(e.options.beforeOpen)&&e.options.beforeOpen(e.activeContent),i.closest(e.activeEl).addClass("active"),e.activeContent.addClass("active")[e.show](this.duration,function(){t.isFunction(e.options.afterOpen)&&e.options.afterOpen(e.activeContent,i),e.isAnimating=!1})})},closeCurrentTab:function(i){var n=this,e=this.activeContent.find(this.options.content).not(":hidden");e.length&&(console.log("--- Close child Tabs - Tab click ---"),e.closest("[data-"+s+"]")[s]("close")),console.log("--- Close current tab ---"),t.isFunction(n.options.beforeClose)&&n.options.beforeClose(n.activeContent),this.isAnimating=!0,i.closest(this.activeEl).removeClass("active"),this.activeContent.removeClass("active")[this.hide](this.duration,function(){t.isFunction(n.options.afterClose)&&n.options.afterClose(n.activeContent),n.activeContent=[],n.isAnimating=!1})},firstOpen:function(i,n){var e=this;console.log("--- First open ---"),e.activeContent=n,t.isFunction(e.options.beforeOpen)&&e.options.beforeOpen(e.activeContent),this.isAnimating=!0,this.activeEl.removeClass("active"),i.closest(this.activeEl).addClass("active"),e.activeContent.addClass("active")[this.show](this.duration,function(){t.isFunction(e.options.afterOpen)&&e.options.afterOpen(e.activeContent,i),e.isAnimating=!1})},close:function(){var i=this;t.isFunction(i.options.beforeClose)&&i.options.beforeClose(i.activeContent),this.isAnimating=!0,this.activeEl.removeClass("active"),this.activeContent.removeClass("active")[this.hide](function(){t.isFunction(i.options.afterClose)&&i.options.afterClose(i.activeContent),i.activeContent=[],i.isAnimating=!1})},destroy:function(){this.element.removeClass(this.initCls),this.element.find(this.options.content).removeAttr("style").removeClass("active"),this.element.find(this.options.handle).removeClass("active"),this.activeContent=[],this.isAnimating=!1,this.handles.off("click.changeTab"+s)}},t.fn[s]=function(i,n){return this.each(function(){var o=t.data(this,s);o?o[i]&&o[i](n):t.data(this,s,new e(this,i))})},t.fn[s].defaults={handle:"[data-handle]",content:"[data-content]",activeEl:"[data-active]",initEl:"[data-init]",closeEl:"[data-close]",initCls:"initCollapse",duration:300,beforeClose:function(t){console.log("beforeClose"),console.log(t)},afterClose:function(t){console.log("afterClose"),console.log(t)},beforeOpen:function(t){console.log("beforeOpen"),console.log(t)},afterOpen:function(t,i){t.closest(".tmp-navigation .tmp-inner").length&&Site.scrollTopAfterCollapse(t.closest(".tmp-navigation .tmp-inner"),i,0,!0)}},t(function(){t("[data-"+s+"]")[s]()})}(jQuery,window);